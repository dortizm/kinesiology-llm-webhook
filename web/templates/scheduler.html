{% extends "base.html" %}
{% load static %}
{% block javascript %}
<script type="text/javascript">
  function disable_date(){
    let disable=false;
    for (let i = 0; i <= 7; i++)
      if($('#id_week_days_'+i).is(":checked"))
        disable=true;
    $( "#id_day" ).prop( "disabled", disable );
    $( "#id_month" ).prop( "disabled", disable );
  }
</script>
{% endblock %}
{% block content %}
<h1>Programar Mensaje</h1>
<!-- DataTables Example -->
<div class="card mb-3">
  <div class="card-header">
    <i class="fas fa-table"></i>
    Programar Grabación</div>
  <div class="card-body">
    <div class="table-responsive">
      <form action="#" method="post" class="form-horizontal" id="schedule_form">
          {% csrf_token %}
          {{ form.media.js }}
          <div class="form-group row">
            <label for="input_id_inicial" class="col-sm-2 col-form-label">Dias de la semana en que se envía el mensaje</label>
            <div class="col-sm-10">
              {{form.week_days}}
            </div>
          </div>
          <div class="form-group row">
            <label for="input_id_inicial" class="col-sm-2 col-form-label">Día</label>
            <div class="col-sm-10">
              {{form.day}}
            </div>
          </div>
          <div class="form-group row">
            <label for="input_id_inicial" class="col-sm-2 col-form-label">Mes</label>
            <div class="col-sm-10">
              {{form.month}}
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Hora</label>
            <div class="col-sm-10">
              {{form.time}}
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Título</label>
            <div class="col-sm-10">
              {{form.title}}
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Mensaje</label>
            <div class="col-sm-10">
              {{form.text}}
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Mensaje generado por bot</label>
            <div class="col-sm-10">
              {{ form.bot_message }}
            </div>
          </div>
          {% if form.errors %}
             {% for field in form %}
                 {% for error in field.errors %} 
                    <div class="alert alert-danger">
                         <strong>{{ error|escape }}</strong>
                    </div>
                 {% endfor %}
             {% endfor %}
          {% endif %}
          <div class="form-group row">
            <div class="col-sm-10">
              <input type="submit" class="btn btn-primary" value="Guardar"><a href="#" class="btn btn-danger">Cancelar</a>
            </div>
            
          </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
